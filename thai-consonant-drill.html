<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Thai Consonant Survival Drill</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 80px;
      background-color: #f9f9f9;
    }

    h1 {
      margin-bottom: 5px;
    }

    .subtitle {
      font-size: 28px;
      margin-bottom: 30px;
    }

    .consonant {
      font-size: 120px;
      margin: 20px 0;
    }

    .hearts {
      font-size: 30px;
      margin-bottom: 15px;
    }

    .options button {
      display: block;
      margin: 10px auto;
      padding: 12px 20px;
      font-size: 18px;
      width: 250px;
      cursor: pointer;
      transition: 0.2s;
    }

    .options button:disabled {
      background-color: #ccc;
      color: #666;
      cursor: not-allowed;
    }

    .message {
      font-size: 20px;
      margin-top: 15px;
      height: 30px;
    }

    .gameover {
      font-size: 40px;
      color: red;
      margin-top: 30px;
    }

    .hidden {
      display: none;
    }

    button {
      padding: 12px 25px;
      font-size: 18px;
      cursor: pointer;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- START SCREEN -->
  <div id="startScreen">
    <h1>Caviar Presents</h1>
    <div class="subtitle">Thai Consonants</div>
    <button onclick="startGame()">Start Quiz</button>
  </div>

  <!-- GAME SCREEN -->
  <div id="gameScreen" class="hidden">
    <div class="hearts" id="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
    <div class="consonant" id="consonant"></div>
    <div class="options" id="options"></div>
    <div class="message" id="message"></div>
    <div class="gameover" id="gameover"></div>
    <button id="restartBtn" onclick="restartGame()" class="hidden">Restart</button>
  </div>

  <script>
    const consonants = [
      { letter: "‡∏Å", answer: "ko kai" },
      { letter: "‡∏Ç", answer: "kho khai" },
      { letter: "‡∏Ñ", answer: "kho khwai" },
      { letter: "‡∏á", answer: "ngo ngu" },
      { letter: "‡∏à", answer: "cho chan" },
      { letter: "‡∏â", answer: "cho ching" },
      { letter: "‡∏ä", answer: "cho chang" },
      { letter: "‡∏ã", answer: "so so" },
      { letter: "‡∏î", answer: "do dek" },
      { letter: "‡∏ï", answer: "to tao" }
    ];

    let current;
    let lives = 3;
    let gameActive = false;

    function startGame() {
      document.getElementById("startScreen").classList.add("hidden");
      document.getElementById("gameScreen").classList.remove("hidden");
      lives = 3;
      gameActive = true;
      updateHearts();
      newQuestion();
    }

    function updateHearts() {
      document.getElementById("hearts").textContent = "‚ù§Ô∏è".repeat(lives);
    }

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function newQuestion() {
      if (!gameActive) return;

      const randomIndex = Math.floor(Math.random() * consonants.length);
      current = consonants[randomIndex];

      document.getElementById("consonant").textContent = current.letter;
      document.getElementById("message").textContent = "";
      generateOptions();
    }

    function generateOptions() {
      let options = [current.answer];

      while (options.length < 3) {
        const randomOption =
          consonants[Math.floor(Math.random() * consonants.length)].answer;
        if (!options.includes(randomOption)) {
          options.push(randomOption);
        }
      }

      options = shuffle(options);

      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";

      options.forEach(option => {
        const button = document.createElement("button");
        button.textContent = option;
        button.onclick = () => checkAnswer(option);
        optionsDiv.appendChild(button);
      });
    }

    function checkAnswer(selected) {
      if (!gameActive) return;

      if (selected === current.answer) {
        document.getElementById("message").textContent = "‚úÖ Correct!";
        setTimeout(newQuestion, 700);
      } else {
        lives--;
        updateHearts();
        document.getElementById("message").textContent =
          "‚ùå Wrong! Correct answer: " + current.answer;

        if (lives === 0) {
          gameOver();
        }
      }
    }

    function gameOver() {
      gameActive = false;
      document.getElementById("gameover").textContent = "üíÄ YOU DIED üíÄ";
      document.getElementById("restartBtn").classList.remove("hidden");

      const buttons = document.querySelectorAll(".options button");
      buttons.forEach(btn => btn.disabled = true);
    }

    function restartGame() {
      lives = 3;
      gameActive = true;
      document.getElementById("gameover").textContent = "";
      document.getElementById("restartBtn").classList.add("hidden");
      updateHearts();
      newQuestion();
    }
  </script>

</body>
</html>
